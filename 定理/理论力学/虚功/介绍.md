Classical Mechanics An Introduction by Dieter Strauch (z-lib.org)
$$
\sum_i \bold Z_i \cdot \delta \bold r_i
$$
is virtual work if the forces of constraint.
$$
\sum_i \bold F_i \cdot \delta \bold r_i
$$
is the virtual work of the internal and external force
$$
-\sum_i \dot{\bold p}_i \cdot \delta \bold r_i
$$
is the virtual work of the inertial forces
$$
\sum_i \bold Z_i \cdot d\bold r_i
$$
is the real work of the forces of constraint

https://www.zhihu.com/search?q=%E8%BE%BE%E6%9C%97%E8%B4%9D%E5%B0%94%E5%8E%9F%E7%90%86&utm_content=search_history&type=content

虚功原理：系统在平衡条件下，外力的虚功为0
$$
\sum_i \bold F_i \cdot \delta \bold r_i + \sum_i \bold f_i \cdot \delta \bold r_i = 0
$$
因为约束力的虚功为零，那么
$$
\sum_i \bold F_i \cdot \delta \bold r_i = 0
$$
达朗贝尔原理，系统在非平衡条件下，外力的虚功不为零，但加上一个反向作用力，但是加上一个反向作用力后，所得合外力的虚功为零
$$
\sum_i(\bold F_i - \dot {\bold p}_i)\cdot \delta \bold r_i
$$
